// Dependencies
import React from 'react'
import { useSelector } from 'react-redux';
import { Link, useParams } from 'react-router-dom';

// Externals
import { getCategories } from 'services/selectors';

const Categories = () => {
  const categoriesState = useSelector((state) => state.categories)
  const categories = getCategories(categoriesState)
  const params = useParams()


  const renderAllCategory = () => {
    return (<Link
      to='/'
      className={params.id === undefined ? 'active list-group-item' : 'list-group-item'}>
      All
    </Link>)
  }

  const renderCategory = (category, index) => {
    return (
      <Link
        to={`/categories/${category.id}`}
        className={params.id === category.id ? 'active list-group-item' : 'list-group-item'}
        key={index}>
        {category.name}
      </Link>
    )
  }

  return (
    <div className='well'>
      <h4>Brand</h4>
      <div className='list-group'>
        {renderAllCategory()}
        {categories.map((category, index) => renderCategory(category, index))}
      </div>
    </div>
  )
}

export default Categories;